"use strict";var _promise=require("babel-runtime/core-js/promise"),_promise2=_interopRequireDefault(_promise);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function imageSclaer(e){var r=e.imageUrl,m=e.scaleTo,t=e.quality,c=void 0===t?.7:t,o=e.isLocalImage,d=e.output;return new _promise2.default(function(n,e){var u=document.createElement("canvas"),s=u.getContext("2d"),l=new Image;l.src=o?r:"https://images.weserv.nl/?url="+r,l.setAttribute("crossOrigin","Anonymous"),l.onload=function(){var e=l.width,r=l.height,t=m/l.width||100/l.width,o=Math.round(e*t),i=Math.round(r*t);if(u.width=o,u.height=i,s.drawImage(l,0,0,o,i),"blob"===d)u.toBlob(function(e){n(e)},"image/jpeg",c);else{var a=u.toDataURL("image/jpeg",c);n(a)}},l.onerror=function(){e(new Error("load image error"))}})}module.exports=imageSclaer;